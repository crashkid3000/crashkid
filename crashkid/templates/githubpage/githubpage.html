{% extends "contentpages/streamfield_page.html" %}
{% load github_finder %}
{% block prestuff %}

{% reload_github_repo {{self.repo_owner}} {{self.repo_name}} %}

{% if self.repo %}
<div class="card mb-3">
  <span>
  <span style="border-width:1px;border-style:solid">{{ self.repo.get_access_status_display }}</span><h3 class="card-header">{{ self.repo.name }}</h3>
  </span>
  <div class="card-body">
    <h5 class="card-title">Besitzer: {{ self.repo.owner_name }}</h5>
      <h6 class="card-subtitle text-muted">Erstellt: {{ self.repo.created_on }}</h6>
      <h6 class="card-subtitle text-muted">Letze Änderung: {{ self.repo.last_updated }}</h6>
  </div>
  <ul class="list-group list-group-flush">
      <li class="list-group-item"><p class="card-text">{{ self.repo.description }}</p></li>
      <li class="list-group-item"><p class="card-text">Sprache: {{ self.repo.language }}</p>
      <p class="card-text">Größe: {{ self.repo.size }}kiB</p></li>
  </ul>
  <div class="card-body">
      <span>
          <span class="border-primary" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Forks: {{ self.repo.forks }}">&#x1F503; {{ self.repo.forks }}</span><span class="border-primary"data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Stargazers: {{ self.repo.stargazers }}">&#x2B50; {{ self.repo.stargazers }}</span><span class="border-primary" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Subscribers: {{ self.repo.subscribers }}">&#x1F48C; {{ self.repo.subscribers }}</span><span class="border-primary" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Issues: {{ self.repo.issues }}">&#x2755; {{ self.repo.issues }}</span>
      </span>
  </div>
  <div class="card-footer text-muted">
      <a href="{{self.repo.repo_url}}" type="button button-secondary">Zum Repository</a>
  </div>
</div>
{% else %}
<div class="alert alert-dismissible alert-danger">
  <button type="button" class="close" data-dismiss="alert">&times;</button>
  <h4 class="danger-heading">Repo nicht gefunden</h4>
  <p class="mb-0">Das GitHub Repository konnte nicht gefunden werden. Tut mir leid :(</p>
</div>
{% endif %}

{% endblock %}